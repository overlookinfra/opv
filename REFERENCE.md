# Reference

<!-- DO NOT EDIT: This document was generated by Puppet Strings -->

## Table of Contents

### Resource types

* [`check_apt_outdated`](#check_apt_outdated): Check for freshness on apt repo info.
* [`check_http`](#check_http): a check_http type
* [`check_tcp_port`](#check_tcp_port): Checks if the specified port is reachable over TCP.

## Resource types

### <a name="check_apt_outdated"></a>`check_apt_outdated`

check_apt_outdated { 'apt':
  allowed_pkgcache_age_days => 2,
  allowed_mirror_age_days => 7,
}

#### Parameters

The following parameters are available in the `check_apt_outdated` type.

* [`allowed_mirror_age_days`](#allowed_mirror_age_days)
* [`allowed_pkgcache_age_days`](#allowed_pkgcache_age_days)
* [`name`](#name)

##### <a name="allowed_mirror_age_days"></a>`allowed_mirror_age_days`

Data type: `Number`

How old the apt repo metadata may be in days, before sounding an alarm.

This parameter looks at the age of files in `/var/lib/apt/lists` to determine freshness.

> Note that `apt update` uses the mirror\'s last modified timestamp on these files.',

##### <a name="allowed_pkgcache_age_days"></a>`allowed_pkgcache_age_days`

Data type: `Number`

How old the apt package cache may be in days, before sounding an alarm.

This parameter looks at the `/var/cache/apt/pkgcache.bin` to determine freshness.

> Note that `apt update` ignores most download errors when rebuilding this file.

##### <a name="name"></a>`name`

namevar

Data type: `StringPattern[/^apt$/]`
_*this data type contains a regex that may not be accurately reflected in generated documentation_

Always has to be "apt".

### <a name="check_http"></a>`check_http`

check_http { 'https://www.example.com': }

Use this to check whether a web server is responding correctly. This can be used both as a prerequisite (don't manage something if a dependency is unhealthy) or to check whether everything went right after managing something.

#### Properties

The following properties are available in the `check_http` type.

##### `ensure`

Data type: `Enum[present, absent]`

Set to `absent` to temporarily disable a check.

Default value: `present`

#### Parameters

The following parameters are available in the `check_http` type.

* [`url`](#url)

##### <a name="url"></a>`url`

namevar

Data type: `String`

The URL to test.

### <a name="check_tcp_port"></a>`check_tcp_port`

check_tcp_port { '127.0.0.1:22': }

This type provides Puppet with the capability to check ports for TCP connectivity.

#### Properties

The following properties are available in the `check_tcp_port` type.

##### `connect_timeout`

Data type: `Numeric`

specify the timeout in seconds.

Default value: `10`

##### `ensure`

Data type: `Enum[present, absent]`

Set to `absent` to temporarily disable a check.

Default value: `present`

##### `resolv_timeout`

Data type: `Numeric`

specify the name resolution timeout in seconds.

Default value: `10`

#### Parameters

The following parameters are available in the `check_tcp_port` type.

* [`host`](#host)
* [`port`](#port)

##### <a name="host"></a>`host`

namevar

Data type: `String`

The host or IP to check.

##### <a name="port"></a>`port`

namevar

Data type: `String`

The port to check.

